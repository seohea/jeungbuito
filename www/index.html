<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=0.5, maximum-scale=0.5, width=device-width" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <link href="css/bootstrap.css" rel="stylesheet">

        <style type="text/css">
            * {
                
                border-radius: 0 !important;
                -moz-border-radius: 0 !important;
                
                -webkit-tap-highlight-color: rgba(255, 255, 255, 0); 
                -webkit-tap-highlight-color: transparent;
            }
            html{
                height: 100%;
                background-color:black;
            }
            body{
                min-height: 100%;
                -webkit-touch-callout: none;                /* prevent callout to copy image, etc when tap to hold */
                -webkit-text-size-adjust: none;             /* prevent webkit from resizing text to fit */
                -webkit-user-select: none;                  /* prevent copy paste, to allow, change 'none' to 'text' */
                
                /*
                background-image: url("img/bg6.png");
                background-repeat: no-repeat;
                background-size:cover;
                */
                background: url(img/bg5.jpg) no-repeat center center fixed; 
                -webkit-background-size: cover;
                -moz-background-size: cover;
                -o-background-size: cover;
                background-size: cover;
                
                /*background-position: center center; */
                background-color:black;
                
                /*
                background-image:linear-gradient(top, #A7A7A7 0%, #E4E4E4 51%);
                background-image:-webkit-linear-gradient(top, #A7A7A7 0%, #E4E4E4 51%);
                background-image:-ms-linear-gradient(top, #A7A7A7 0%, #E4E4E4 51%);
                background-image:-webkit-gradient(
                    linear,
                    left top,
                    left bottom,
                    color-stop(0, #A7A7A7),
                    color-stop(0.25, #E4E4E4)
                );
                background-attachment:fixed;
                */

                
                padding-bottom: 70px;
                
            }

            #texttool{
                display:none;
                z-index: 1000; 
                position:fixed; 
                top: 5%; 
                left: 25%; 
                text-align:center;
                padding: 0px;
                margin: 0px;
            }

            #navbar_btn{
                margin: 30 auto;
                height: 100%;
            }

            #main_body{
                overflow: auto;
                position: relative;
                z-index: 50;
            }

            #dimScreen {
                width: 100%;
                height: 100%;
                background:rgba(0,0,0,1); 
                position: fixed;
                top: 0;
                left: 0;
                z-index: 100;
            }


            #photo{
                height: 60vh; 
                width: 100vw; 
                display: block;
            }

            #canvas{
                /*border: 2px solid black;*/
                background-color: #262626;
            }

            #inserfontsize{
                display: none;
                text-transform: none !important;
                font-family: "Arial" !important;
            }

            #testing, #testing2, #testing3, #testing4{
                display:none;
            }

            #icon{
                font-size: 22px;
                line-height: 80%;
            }

            .icon_caption{
                font-size: 14px;
            }

            @font-face {
              font-family: 'cwTeXKai';
              font-style: normal;
              font-weight: 500;
              src: url(fonts/cwTeXKai-zhonly.ttf) format('truetype');
            }

            @font-face {
                /*仿宋*/
              font-family: 'cwTeXFangSong';
              font-style: normal;
              font-weight: 500;
              src: url(fonts/cwTeXFangSong-zhonly.ttf) format('truetype');
            }

            @font-face {
              font-family: 'cwTeXYen';
              font-style: normal;
              font-weight: 500;
              src: url(fonts/cwTeXYen-zhonly.ttf) format('truetype');
            }
            
            .moveanimation {-webkit-animation: anim1 ease-in-out 3s infinite alternate; }
            @-webkit-keyframes anim1
            {
               from {-webkit-transform: scale(1.0) }
               50%  {-webkit-transform: scale(0.93) }
               to   {-webkit-transform: scale(1.0) }
            }
            @-webkit-keyframes anim2
            {
                from {-webkit-transform: rotateY(360deg) }
            }

            #header_well{
                background-color:rgba(0,0,0,0); 
                text-shadow: 0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23);
                margin: 5%; 
                padding-bottom: 0px;
                color:white;       
                text-align:center;
            }

            #header_well_btn{

            }

            hr{ 
              border: 0; 
              height: 1px; 
              background-image: -webkit-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0);
              background-image: -moz-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0);
              background-image: -ms-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0);
              background-image: -o-linear-gradient(left, #f0f0f0, #8c8b8b, #f0f0f0); 
            }

            .navbar { box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23); }

            .mhead{
                background-color: #263238;
                color:white;
                border-bottom: 0px;
                box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23);
            }

            .close{
                color: white !important;
            }

            .navbar-toggle.navbar-left {
                float: left;
                margin-left: 10px;
                margin-right: 0px;
            }

            .navbar-collapse{
                background-color: #37474F;
                box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23); 
            }

            .collapsing {
                -webkit-transition: height 0.01s;
                -moz-transition: height 0.01s;
                -ms-transition: height 0.01s;
                -o-transition: height 0.01s;
                transition: height 0.01s;
            }
            /*
            .btn{
                box-shadow: 0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23); 
            }
            */
            
            #reminder{  
                color:white;
                z-index: 999; 
                position:fixed; 
                width:30%; 
                top: 40%; 
                left: 35%; 
                padding:10px; 
                margin:5px; 
                text-align:center;
            }​

        </style>

        <title>Juengbuito</title>

        <script src="js/jquery.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script type="text/javascript" src="js/GALocalStorage.js"></script>

        <script type="text/javascript">

            var pictureSource;   // picture source
            var destinationType; // sets the format of returned value
            var img_url;
            var is_stroke = false;
            var word_list = [];
            var current_page;

            get_history();

            $(document).ready(function() {
                var canvas = document.getElementById("canvas");

                init_canvas = function init_canvas(){
                    canvas.width = $("#photo").width()*2;
                    canvas.height = $("#photo").height()*2;

                    canvas.style.width=$("#photo").width()+"px";//actual width of canvas
                    canvas.style.height=$("#photo").height()+"px";//actual height of canvas
                }
                init_canvas();

                var is_lock = false;

                lock_screen = function lock_scroll(){

                    if(is_lock){
                        canvas.removeEventListener('touchmove', function(e) {
                            e.preventDefault();
                        }, false);
                        $("#scroll_btn").html('<span id="icon" class="glyphicon glyphicon-pushpin"></span><!--br><span class="icon_caption">鎖定螢幕</span-->');
                        is_lock = false;
                    }else{
                        canvas.addEventListener('touchmove', function(e) {
                            e.preventDefault();
                        }, false);
                        $("#scroll_btn").html('<span id="icon" class="glyphicon glyphicon-move"></span><!--br><span class="icon_caption">解除鎖定</span-->');
                        is_lock = true;
                    }
                }

                lock_screen();

                var ctx, BB, offsetX, offsetY, WIDTH, HEIGHT;

                re_initi = function re_initi(){
                    ctx=canvas.getContext("2d");
                    ctx.scale(2,2);
                    BB=canvas.getBoundingClientRect();
                    offsetX=BB.left;
                    offsetY=BB.top;
                    WIDTH = canvas.width;
                    HEIGHT = canvas.height;
                }
                re_initi();

                var font_size, font_type;

                changefontsize = function change_size(num){
                    var size = [14,22,36,48,60];
                    font_size = size[num];
                    $('#inserfontsize').attr('style', 'font-size: '+font_size+'px !important');
                }
                
                changefontsize(2);

                changefont = function change_font(num){
                    font_type = num;
                }

                changefont(0);

                preview_text = function preview_text(){
                    $("#word_sample").text($("#words").val());
                    if (font_type == 0)
                        $('#word_sample').attr('style', 'font-size: '+font_size+'px !important;');
                    else if(font_type == 1)
                        $('#word_sample').attr('style', 'font-size: '+font_size+'px !important; font-family: "cwTeXKai", serif;');
                    else if(font_type == 2)
                        $('#word_sample').attr('style', 'font-size: '+font_size+'px !important; font-family: "cwTeXFangSong", serif;');
                    else
                        $('#word_sample').attr('style', 'font-size: '+font_size+'px !important; font-family: "cwTeXYen", serif;');

                    $("#word_sample").css('color', $("#mycolor").val());
                    $('#color_btn').css('color', $("#mycolor").val());

                    if(is_stroke){
                        $('.tooltogglebtn').css('background-color', '#7b99b7');
                        $('.tooltogglebtn').css('border-color', '#7b99b7');
                        $('#word_sample').css('background-color', '#'+invertHex($("#mycolor").val().substring(1)));
                    }else{
                        $('.tooltogglebtn').css('background-color', '#2c3e50');
                        $('.tooltogglebtn').css('border-color', '#2c3e50');
                        $('#word_sample').css('background-color', 'none');
                    }

                    $("select option").filter(function() {
                        return $(this).val() == "-default-"; 
                    }).prop('selected', true);

                    var options = '<option value="-default-" disabled selected> -- 請選擇 -- </option>';
                    for (var i = word_list.length-1; i >=0; i--) {
                        options += '<option value="' + word_list[i]+ '">' + word_list[i] + '</option>';
                    }
                    $("#type_history_select").html(options);
                }

                // drag related variables
                var dragok = false;
                var startX;
                var startY;

                // an array of objects that define different rectangles
                var rects;
                if (rects == null){
                    rects=[];
                }


                resize = function photo_resize(imgsrc){

                    var photo = new Image();
                    photo.src = imgsrc;
                    photo.onload = function() {
                        var w = window.innerWidth;
                        var img_width = this.width;
                        var img_height = this.height;

                        var new_width = w;
                        var new_height = Math.floor((w*img_height)/img_width);

                        canvas.width = new_width*2;
                        canvas.height = new_height*2;

                        canvas.style.width=new_width+"px";
                        canvas.style.height=new_height+"px";

                        $("#photo").height(new_height);
                    
                        re_initi();
                        bgpic(imgsrc);
                    }
                    
                }

                $('#canvas').on('touchstart', function(e){
                    myDown(e);
                    $("#testing").text("Down");
                });
                $('#canvas').on('touchend', function(e){
                    myUp(e);
                    $("#testing").text("up");
                });
                $('#canvas').on('touchmove', function(e){
                    myMove(e);
                    $("#testing").text("move");
                });

                add = function addwords(){
                    $("#inserfontsize").text($("#words").val());
                    var arr = {};
                    var w = $("#photo").width();
                    var h = $("#photo").height();
                    arr.x = Math.floor(Math.random()*((w-50)-10+1)+10);
                    arr.y = Math.floor(Math.random()*((h-50)-10+1)+10);
                    //arr.x = 100+rects.length*30;
                    //arr.y = 50+rects.length*30;
                    arr.fill = "black";
                    arr.isDragging = false;
                    arr.text = $("#words").val();
                    arr.len = $('#inserfontsize').width();
                    arr.charheight = font_size;
                    arr.mycolor = $("#mycolor").val();
                    arr.myfont = font_type;
                    arr.isstroke = is_stroke;
                    rects.push(arr);

                    draw();
                }

                function invertHex(hexnum){
                    hexnum = hexnum.toUpperCase();
                    var splitnum = hexnum.split("");
                    var resultnum = "";
                    var simplenum = "FEDCBA9876".split("");
                    var complexnum = new Array();
                    complexnum.A = "5";
                    complexnum.B = "4";
                    complexnum.C = "3";
                    complexnum.D = "2";
                    complexnum.E = "1";
                    complexnum.F = "0";

                    for(i=0; i<6; i++){
                        if(!isNaN(splitnum[i])) {
                          resultnum += simplenum[splitnum[i]]; 
                        } else if(complexnum[splitnum[i]]){
                          resultnum += complexnum[splitnum[i]]; 
                        } 
                    }
                    return resultnum;
                }


                function rect(x,y,customtext) {
                    if(customtext.myfont == 0)
                        ctx.font = customtext.charheight+"px Droid Sans";
                    else if (customtext.myfont == 1)
                        ctx.font = customtext.charheight+"px cwTeXKai";
                    else if (customtext.myfont == 2)
                        ctx.font = customtext.charheight+"px cwTeXFangSong";
                    else if (customtext.myfont == 3)
                        ctx.font = customtext.charheight+"px cwTeXYen";
                    else
                        ctx.font = customtext.charheight+"px Droid Sans";
                    
                    if(customtext.isstroke){
                        ctx.strokeStyle = "#"+invertHex(customtext.mycolor.substring(1));
                        ctx.lineWidth = Math.floor(font_size/7);
                        ctx.strokeText(customtext.text, x, y);
                    }
                    
                    ctx.fillStyle = customtext.mycolor;
                    ctx.fillText(customtext.text, x, y);

                }

                // clear the canvas
                function clear() {
                    ctx.clearRect(0, 0, WIDTH, HEIGHT);
                }

                manual_clear = function man_clear() {
                    ctx.clearRect(0, 0, WIDTH, HEIGHT);
                    rects = [];
                }

                manual_clear_one = function man_clear_one(index){
                    if(index != null){
                        rects.splice(index, 1);
                        draw();
                    }
                }

                // redraw the scene
                draw = function draw() {
                    clear();

                    for(var i=0;i<rects.length;i++){
                        var r=rects[i];
                        rect(r.x-r.len/2,r.y+r.charheight,r);
                    }
                }

                saveImage = function final_draw(isshare){
                    try{
                        clear();

                        var imageObj = new Image();
                        imageObj.src = img_url;
                        ctx.drawImage(imageObj, 0, 0, $("#photo").width(), $("#photo").height() );

                        //$("#canvas").css("background", "none");

                        for(var i=0;i<rects.length;i++){
                            var r=rects[i];
                            rect(r.x-r.len/2,r.y+r.charheight,r);
                        }

                        saveAll(isshare);
                    }catch(err){}
                }

                bgpic = function background_pic(src){
                    $("#canvas").css("background-image", "url("+src+")");
                    $("#canvas").css("background-size", "cover");
                    $("#canvas").css("background-position", "0 0");
                }

                function showtexttool(i){
                    $("#texttooltesting").html(i +", "+rects[i].x+", "+rects[i].y);
                    $("#texttool").css('top',rects[i].x-65);
                    $("#texttool").css('left',0);
                    $('#del_select').val(i);
                    $("#texttool").show();
                }

                function hidetexttool(){
                    $("#texttool").hide();
                }

                // handle mousedown events
                function myDown(e){
                    // tell the browser we're handling this mouse event
                    e.preventDefault();
                    e.stopPropagation();

                    var mx=parseInt(e.originalEvent.touches[0].pageX-offsetX);
                    var my=parseInt(e.originalEvent.touches[0].pageY-offsetY);
                    $("#testing2").text(mx + ", "+my);

                    dragok=false;
                    for(var i=0;i<rects.length;i++){
                        var r=rects[i];
                        $("#testing3").text(mx + ">"+(r.x-r.len/2) +" | "+mx+"<"+(r.x+r.len/2));
                        $("#testing4").text(my + ">"+(r.y) +" | "+my+"<"+(r.y+r.charheight));

                        if(mx>r.x-r.len/2 && mx<r.x+r.len/2 && my>r.y && my<r.y+r.charheight){  
                            dragok=true;
                            r.isDragging=true;

                            showtexttool(i);
                        }else{
                            hidetexttool();
                        }
                    }
                    // save the current mouse position
                    startX=mx;
                    startY=my;
                }


                // handle mouseup events
                function myUp(e){
                    // tell the browser we're handling this mouse event
                    e.preventDefault();
                    e.stopPropagation();

                    // clear all the dragging flags
                    dragok = false;
                    for(var i=0;i<rects.length;i++){
                        rects[i].isDragging=false;
                    }
                }


                // handle mouse moves
                function myMove(e){
                    // if we're dragging anything...
                    if (dragok){

                      // tell the browser we're handling this mouse event
                      e.preventDefault();
                      e.stopPropagation();

                      var mx=parseInt(e.originalEvent.touches[0].pageX-offsetX);
                      var my=parseInt(e.originalEvent.touches[0].pageY-offsetY);

                      // calculate the distance the mouse has moved
                      // since the last mousemove
                      var dx=mx-startX;
                      var dy=my-startY;

                      // move each rect that isDragging 
                      // by the distance the mouse has moved
                      // since the last mousemove
                      for(var i=0;i<rects.length;i++){
                          var r=rects[i];
                          if(r.isDragging){
                              r.x+=dx;
                              r.y+=dy;
                          }
                      }

                      // redraw the scene with the new rect positions
                      draw();

                      // reset the starting mouse position for the next mousemove
                      startX=mx;
                      startY=my;

                    }
                }

                getallwords = function allrects(){
                    var options = '<option value="-default-" disabled selected> -- 請選擇 -- </option>';
                    for (var i = 0; i < rects.length; i++) {
                        options += '<option value="' + i+ '">' + rects[i].text + '</option>';
                    }
                    $("#del_select").html(options);
                }

            });

            function getImage(source) {
                navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50,
                    destinationType: destinationType.FILE_URI,
                    sourceType: source });
            }

            function getURLImage(source) {
                var url = $("#URLinput").val();
                if (url.match(/(^http:\/\/)/) == null)
                    url = "http:\/\/" + url;

                testImage(url, loadurlimg);
            }

            function testImage(url, callback, timeout) {
                timeout = timeout || 5000;
                var timedOut = false, timer;
                var img = new Image();
                img.onerror = img.onabort = function() {
                    if (!timedOut) {
                        clearTimeout(timer);
                        callback(url, false);
                    }
                };
                img.onload = function() {
                    if (!timedOut) {
                        clearTimeout(timer);
                        callback(url, true);
                    }
                };
                img.src = url;
                timer = setTimeout(function() {
                    timedOut = true;
                    callback(url, false);
                }, timeout); 
            }

            function loadurlimg(url, result) {
                //console.log(result+" | "+url);
                if(result)
                    onPhotoURISuccess(url);
                else{
                    //alert("");
                    $('#warningModalLabel').text('無法載入圖片，請檢查連結正確，或可以連接至互聯網!!');
                    $('#warningModal').modal('toggle');
                    
                }
            }   

            function onPhotoURISuccess(imageURI) {
                img_url = imageURI;
                resize(img_url);
                $("#reminder").css('display','none');
                $('.savebtn').prop('disabled', false);
                $('.editbtn').prop('disabled', false);
                $(".openbtn").attr('class', 'btn btn-primary openbtn');
                $(".savebtn").attr('class', 'btn btn-info savebtn');
                $(".editbtn").attr('class', 'btn btn-success editbtn');

                admob.showInterstitialAd();
            }

            function onFail(message) {
                alert("沒有選取圖片");
            }

            function saveAll(isshare){
                window.canvas2ImagePlugin.saveImageDataToLibrary(
                    function(msg){
                        saved_img_path = msg;
                        if(isshare)
                            share(saved_img_path);
                        else
                            alert("圖片儲存成功");

                        admob.showInterstitialAd();
                    },
                    function(err){
                        alert("無法儲存圖片");
                    },
                    document.getElementById("canvas"),
                    '.jpg'
                );

                draw();
            }

            function share(path){
                path = "file://"+path;
                //message, subject, file, url, [successCallback], [errorCallback]
                window.plugins.socialsharing.share(
                    null,
                    null,
                    path,
                    null,
                    function(result) {/*alert('result: ' + result +", Path:"+path);*/},
                    function(result) {/*alert('error: ' + result +", Path:"+path);*/}
                );
            }

            //no one called now
            function reset_canvas(){
                manual_clear();
                $("#photo").css("height", "60vh");
                $("#photo").css("width", "100vh");
                init_canvas();
                re_initi();
                $("#canvas").css("background-image", "none");
                $("#reminder").css('display','block');
                $('.savebtn').prop('disabled', true);
                $('.editbtn').prop('disabled', true);
                $(".openbtn").attr('class', 'btn btn-success openbtn');
                $(".savebtn").attr('class', 'btn btn-primary savebtn');
                $(".editbtn").attr('class', 'btn btn-primary editbtn');
            }

            function editpage(){
                //$("body").css('background-color','black');
                $("#first_page").css('display','none');
                $('body').attr('style', 'background-color:black; background-image:none;');
                $(".edit_class").css('display','block');
                
                $("#navbar_title").html('<span><B>編輯圖片</B></span>');
                current_page = 2;
            }

            function firstpage(){
                //$("body").css('background-color','white');
                $(".edit_class").css('display','none');
                $('body').attr('style', 'background-color:black; background: url(img/bg5.jpg) no-repeat center center fixed; -webkit-background-size: cover;-moz-background-size: cover;-o-background-size: cover;background-size: cover;');
                $("#first_page").css('display','block');
                
                $("#navbar_title").html('<span><B>圖文字易</B></span>');
                current_page = 1;
            }

            function get_history(){
                var retrievedObject = localStorage.getItem('wordlist');
                word_list = JSON.parse(retrievedObject);

                if (word_list == null)
                    word_list = [];
            }

            function add_history(words){
                if(word_list.length > 9)
                    word_list.shift();
                word_list.push(words);
                window.localStorage.setItem("wordlist", JSON.stringify(word_list));
            }
            
            function initAds() {
                if (admob) {
                    admob.setOptions({
                        publisherId:      "ca-app-pub-9969581706012169/4159269930",
                        interstitialAdId: "ca-app-pub-9969581706012169/4820247935",
                        autoShowInterstitial: false,
                        isTesting:true
                    });

                    registerAdEvents();

                } else {
                    alert('AdMobAds plugin not ready');
                }
            }

            function registerAdEvents() {
                //document.addEventListener(admob.events.onAdLoaded, onAdLoaded);
                //document.addEventListener(admob.events.onAdFailedToLoad, function (e) {});
                //document.addEventListener(admob.events.onAdOpened, function (e) {});
                document.addEventListener(admob.events.onAdClosed, onAdClosed);
                //document.addEventListener(admob.events.onAdLeftApplication, function (e) {});
                //document.addEventListener(admob.events.onInAppPurchaseRequested, function (e) {});
            }

            /*
            function onAdLoaded(e) {
                if (e.adType === admob.AD_TYPE.INTERSTITIAL) {
                    admob.showInterstitialAd();
                }
            }
            */

            function onAdClosed(e){
                admob.requestInterstitialAd();
            }

            function onDeviceReady() {
                /*
                alert("Start!");
                alert(cordova.file);
                alert(navigator.camera);
                alert(window.canvas2ImagePlugin);
                */

                pictureSource=navigator.camera.PictureSourceType;
                destinationType=navigator.camera.DestinationType;
                //alert(pictureSource.PHOTOLIBRARY+"\n"+pictureSource.SAVEDPHOTOALBUM + "\n"+destinationType);
                
                /*
                document.addEventListener("backbutton", function(e){
                   e.preventDefault();
                   navigator.app.exitApp();  
                }, false);
                */
                current_page = 1;

                document.addEventListener("resume", onResume, false);
                document.addEventListener("backbutton", onBackKeyDown, false);

                initAds();

                admob.createBannerView();

                admob.requestInterstitialAd();

                /*
                function onAdLoaded() {
                    admob.showInterstitialAd();
                    showNextInterstitial = setTimeout(function() {
                      admob.requestInterstitialAd();
                    }, 2 * 60 * 1000); // 2 minutes
                  }
                }
                */

                draw();
            }

            function onResume() {
                draw();
            }

            function onBackKeyDown() {
 
                if($('.modal').is(':visible')){
                    $('.modal').modal('hide');
                    return false;
                }

                if(current_page == 1){
                    $('#exitModal').modal('toggle');

                }else if (current_page == 2){
                    firstpage();
                }else{

                }
                return false;
            }

            document.addEventListener("deviceready", onDeviceReady, false);
            
            

        </script>

    </head>

    <body>
        <!--div class="app">
            <h1>PhoneGap</h1>
            <div id="deviceready" class="blink">
                <p class="event listening">Connecting to Device</p>
                <p class="event received">Device is Ready</p>
            </div>
        </div-->

        <!-- Navigation -->
        <!--nav class="navbar navbar-default navbar-fixed-top" id="nav">
            <div class="container">

                <div class="navbar-header">
                    <button type="button" class="navbar-toggle navbar-left" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" onclick="$('#about-panel').hide();" id="navbar_btn" style="border:0px;">
                        <span class="glyphicon glyphicon-menu-hamburger" style="color:white;"></span>
                    </button>
                    <a class="navbar-brand" style="font-size:22px;" id="navbar_title">
                        <span><B>圖文字易</B></span>
                    </a>
                </div>


                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav navbar-right">
                        <li class="hidden">
                            <a href="#page-top"></a>
                        </li>
                        <li class="page-scroll">
                            <a href="#" onclick="firstpage(); $('.navbar-toggle').click();"><span class="glyphicon glyphicon-home" style="color:white"></span>&nbsp;&nbsp;主頁</a>
                            <a href="#" onclick="editpage(); $('.navbar-toggle').click();"><span class="glyphicon glyphicon-picture" style="color:white"></span>&nbsp;&nbsp;編輯圖片</a>
                            <a href="#" data-toggle="modal" data-target="#infoModal" onclick="$('.navbar-toggle').click();"><span class="glyphicon glyphicon-sunglasses" style="color:white"></span>&nbsp;&nbsp;設計建議</a>
                            <a href="#" data-toggle="modal" data-target="#tutorModal" onclick="$('.navbar-toggle').click();"><span class="glyphicon glyphicon-pencil" style="color:white"></span>&nbsp;&nbsp;使用教學</a>
                            <a href="#" data-toggle="modal" data-target="#aboutModal" onclick="$('.navbar-toggle').click();"><span class="glyphicon glyphicon-certificate" style="color:white"></span>&nbsp;&nbsp;關於</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav-->

        <!-- first page -->
        <div id="first_page" style="display:block;">
            <header>
                <div class="container" style="padding:20px 0px;">
                    <span style="float:right; padding-right:20px; color:white; font-size:20px;" data-toggle="modal" data-target="#moreModal">
                        <span class="glyphicon glyphicon-option-vertical"></span>
                    </span>
                </div>
            </header>

            <div class="container">
                <div class="row">
                    <div id="header_well" class="well moveanimation">
                      <h1 style="letter-spacing: 6px;">圖文字易</h1>
                      <hr>
                      <h5 style="letter-spacing: 5px;">長輩圖/Line圖/Whatsapp圖</h5>
                      <h5 style="letter-spacing: 5px;">文字圖製造器</h5>
                    </div>

                    <div class="well" style="margin: 5%; background-color:rgba(0,0,0,0.15); ">
                        <table style="width:100%;">
                            <tr>
                                <td width="50%"><button type="button" class="btn btn-success btn-lg" onclick="editpage();" style="width:100%"><span class="glyphicon glyphicon-picture"></span><br>編輯圖片</button></td>
                                <td width="50%"><button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#infoModal" style="width:100%"><span class="glyphicon glyphicon-sunglasses"></span><br>設計建議</button></td>
                            </tr>
                            <tr>
                                <td width="50%"><button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#tutorModal" style="width:100%"><span class="glyphicon glyphicon-pencil"></span><br>使用教學</button></td>
                                <td width="50%"><button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#aboutModal" style="width:100%"><span class="glyphicon glyphicon-certificate"></span><br>關於</button></td>
                            </tr>
                        </table>
                    </div>

                </div>
            </div>
        </div>

        <!-- Edit page -->
        <div id="main_body" class="edit_class" style="display:none;">
            <header>
                <div class="container" style="padding-top:20px; padding-left: 10px;">
                    <button class="btn btn-primary" onclick="firstpage();" style="color:white;"><span class="glyphicon glyphicon-th-large"></span>&nbsp;<span style="font-size:16px;">返回主頁</span></button>
                </div>
            </header>


            <div class="container">
                <div class="row">

                    <div class="panel-body">
                    </div>

                    <div id="reminder" class="moveanimation">
                        <p style="font-size:36px;"><span class="glyphicon glyphicon-picture"></span></p>
                        <p style="font-size:20px;">請選取圖片</p>
                    </div>

                    <div class="panel panel-default" id="texttool">
                        <div class="panel-body" style="padding:0px !important;">
                            <span id="texttooltesting">...</span>
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-primary" onclick=""><span class="glyphicon glyphicon-pencil"/></button>
                                <button type="button" class="btn btn-primary" onclick="manual_clear_one($('#del_select').val());"><span class="glyphicon glyphicon-trash"/></button>
                                <button type="button" class="btn btn-primary" onclick="$('#texttool').hide();"><span class="glyphicon glyphicon-minus-sign"/></button>
                            </div>
                        </div>
                    </div>

                    <div id="photo">
                        <canvas id="canvas">Canvas not supported</canvas>
                    </div>

                    <span id="inserfontsize"></span>
                    <p id="testing">testing testing </p>
                    <p id="testing2">testing testing </p>
                    <p id="testing3">testing testing </p>
                    <p id="testing4">testing testing </p>

                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header mhead">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span class="glyphicon glyphicon-remove"></span></button>
                <h4 class="modal-title" id="myModalLabel">文字設定</h4>
              </div>
              <div class="modal-body">
                <div class="btn-group btn-group-justified" role="group" aria-label="...">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-primary tooltogglebtn" onclick="(is_stroke = (is_stroke)?false:true); preview_text();"><span class="glyphicon glyphicon-text-background"/></button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <span class="glyphicon glyphicon-text-height"></span>
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a onclick="changefontsize(0); preview_text();">特小</a></li>
                            <li><a onclick="changefontsize(1); preview_text();">小</a></li>
                            <li><a onclick="changefontsize(2); preview_text();">中</a></li>
                            <li><a onclick="changefontsize(3); preview_text();">大</a></li>
                            <li><a onclick="changefontsize(4); preview_text();">特大</a></li>
                        </ul>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                          <span class="glyphicon glyphicon-font"></span>
                          <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a onclick="changefont(0); preview_text();" style="font-size:20px;">系統預設字體</a></li>
                            <li><a onclick="changefont(1); preview_text();" style="font-size:20px; font-family:cwTeXKai;">標楷體</a></li>
                            <li><a onclick="changefont(2); preview_text();" style="font-size:20px; font-family:cwTeXFangSong;">仿宋體</a></li>
                            <li><a onclick="changefont(3); preview_text();" style="font-size:20px; font-family:cwTeXYen;">圓圓體</a></li>
                        </ul>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-primary" onclick="$('#mycolor')[0].click();"><span class="glyphicon glyphicon-tint" id="color_btn"/></button>
                    </div>
                </div>
                    <input type="color" id="mycolor" value="#ff0000" onchange="preview_text();" style="visibility:hidden;">

                    <div class="input-group input-group">
                        <span class="input-group-addon" id="sizing-addon3">熱門文字</span>
                        <select class="form-control" onchange="$('#words').val(this.value); preview_text();">
                            <option value="-default-" disabled selected> -- 請選擇 -- </option>
                            <option value="認同請分享">認同請分享</option>
                            <option value="two">Two</option>
                        </select>
                    </div>
                    <div class="input-group input-group">
                        <span class="input-group-addon" id="sizing-addon3">輸入記錄</span>
                        <select class="form-control" onchange="$('#words').val(this.value); preview_text();" id="type_history_select">
                            <option value="-default-" disabled selected> -- 請選擇 -- </option>
                        </select>
                    </div>
                  
                  <br>
                  <input type="text" class="form-control" id="words" value="" placeholder="在此輸入文字" oninput="preview_text();"/>

              </div>
              <div class="modal-footer">
                <span id="word_sample"></span>
                <br><hr>
                <div class="btn-group btn-group-justified" role="group">
                    <div class="btn-group" role="group">
                        <button class="btn btn-success" data-dismiss="modal" onclick="add(); add_history($('#words').val());"><span class="glyphicon glyphicon-plus"></span>&nbsp;確認及添加</button>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!--infoModal-->
        <div class="modal" id="infoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header mhead">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span class="glyphicon glyphicon-remove"></span></button>
                <h4 class="modal-title" id="myModalLabel">設計建議</h4>
              </div>
              <div class="modal-body">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title">用途</h3>
                        </div>
                        <div class="panel-body">
                            <p>『圖文字易』 方便用家在圖片上加上字句，例如可用作製造以下照片：</p>
                            <ol>
                                <li>長輩圖</li>
                                <li>一般文字圖</li>
                                <li>圖片上加上作家名字，防止偷圖轉載</li>
                            </ol>
                        </div>
                    </div>

                    <div class="panel panel-success">
                        <div class="panel-heading">
                            <h3 class="panel-title">長輩LINE圖 （長輩圖）</h3>
                        </div>
                        <div class="panel-body">
                            <p>長輩圖是一種長輩或家長會喜歡與朋友，後輩分享的圖片類型。通常內容包括祝福，分享，外國研究，養生之道，名人語錄，心靈語句。此外字形要大，顏色要鮮艷，及使用類似毛筆字體（標楷體）。</p>
                            <p>建議步驟：</p>
                            <ol>
                                <li>選擇一張風景圖，名人圖，或宗教背景圖</li>
                                <li>加上祝福句，例如早安，身體健康</li>
                                <li>最後配上 『認同請分享』於圖片上</li>
                                <li>儲存及分享給朋友親人</li>
                            </ol>
                        </div>
                    </div>
              </div>
            </div>
          </div>
        </div>

        <!--tutorModal-->
        <div class="modal" id="tutorModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header mhead">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span class="glyphicon glyphicon-remove"></span></button>
                <h4 class="modal-title" id="myModalLabel">使用教學</h4>
              </div>
              <div class="modal-body">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h3 class="panel-title">編輯圖片</h3>
                        </div>
                        <div class="panel-body">
                            <table class="table table-bordered table-condensed">
                                <tr>
                                    <th>建議步驟</th>
                                    <th></th>
                                </tr>
                                <tr>
                                    <td>1.<br>開啟圖片</td>
                                    <td><ul><li>選擇1: 從手機媒體匣中選取圖片</li><li>選擇2: 從互聯網中載入圖片 (請確認圖片網址正確)</li></ul></td>
                                </tr>
                                <tr>
                                    <td>2.<br>輸入文字</td>
                                    <td>
                                        <ul>
                                            <li>文字圍邊</li>
                                            <li>文字大小</li>
                                            <li>字體</li>
                                            <li>文字顏色</li>
                                            <li>熱門文字</li>
                                            <li>輸入記錄</li>
                                            <li>文字預覽</li>
                                        </ul>
                                    </td>
                                </tr>
                                 <tr>
                                    <td>2.1<br>清除文字</td>
                                    <td>
                                    </td>
                                </tr>
                                <tr>
                                    <td>3.<br>儲存圖片</td>
                                    <td>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
              </div>
            </div>
          </div>
        </div>

        <!-- aboutModal -->
        <div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header mhead">
                <h4 class="modal-title" id="myModalLabel">關於</h4>
              </div>
              <div class="modal-body">
                <h4>圖文字易</h4>
                <ul>
                  <li>版權所有 &copy; Seohea Production</li>
                  <li>版本 Alpha 0.0.9</li>
                </ul>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-success" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;關閉</button>
              </div>
            </div>
          </div>
        </div>

        <!-- moreModal -->
        <div class="modal fade" id="moreModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-body">
                <div class="btn-group-vertical" role="group" aria-label="..." style="width:100%;!important">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-primary" data-dismiss="modal"><span class="glyphicon glyphicon-thumbs-up"></span>&nbsp;評分</button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-primary" data-dismiss="modal"><span class="glyphicon glyphicon-bell"></span>&nbsp;更新</button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-primary" data-dismiss="modal"><span class="glyphicon glyphicon-bullhorn"></span>&nbsp;意見</button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-primary" data-dismiss="modal"><span class="glyphicon glyphicon-phone"></span>&nbsp;更多應用程式</button>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- exitModal -->
        <div class="modal fade" id="exitModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header mhead">
                <h4 class="modal-title">離開『圖文字易』? </h4>
              </div>
              <div class="modal-body">
                <div class="btn-group btn-group-justified" role="group" aria-label="...">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-success" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;取消</button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-danger" onclick="navigator.app.exitApp();" data-dismiss="modal"><span class="glyphicon glyphicon-ok"></span>&nbsp;離開</button>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- warningModal -->
        <div class="modal fade" id="warningModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header mhead">
                <h4 class="modal-title">注意 !</h4>
              </div>
              <div class="modal-body">
                <p id="warningModalLabel"></p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;確認</button>
              </div>
            </div>
          </div>
        </div>

        <!--delModal-->
        <div class="modal fade" id="delModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header mhead">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span class="glyphicon glyphicon-remove"></span></button>
                <h4 class="modal-title" id="myModalLabel">清除文字</h4>
              </div>
              <div class="modal-body">
                    <div class="input-group input-group">
                        <span class="input-group-addon" id="sizing-addon3">選擇文字</span>
                        <select class="form-control" id="del_select">
                            <option value="-default-" disabled selected> -- 請選擇 -- </option>
                        </select>
                    </div>
                    
                    <div class="btn-group btn-group-justified" role="group">
                        <div class="btn-group" role="group">
                            <button class="btn btn-warning" data-dismiss="modal" onclick="manual_clear_one($('#del_select').val())"><span class="glyphicon glyphicon-erase"></span>&nbsp;清除所選文字</button>
                        </div>
                    </div>
                    
              </div>
              <div class="modal-footer">
                <div class="btn-group btn-group-justified" role="group">
                    <div class="btn-group" role="group">
                        <button class="btn btn-danger" data-dismiss="modal" onclick="manual_clear();"><span class="glyphicon glyphicon-erase"></span>&nbsp;清除<b>所有</b>文字</button>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>


        <!-- photoModal -->
        <div class="modal fade" id="photoModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header mhead">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">開啟圖片</h4>
              </div>
              <div class="modal-body">
                <button type="button" class="btn btn-success form-control" onclick="getImage(pictureSource.SAVEDPHOTOALBUM);" data-dismiss="modal"><span class="glyphicon glyphicon-folder-open"></span>&nbsp;從媒體匣選取</button>
                <hr>
                <button type="button" class="btn btn-info form-control" data-toggle="collapse" data-target="#URLform" aria-expanded="false" aria-controls="collapseExample"><span class="glyphicon glyphicon-globe"></span>&nbsp;從網址載入</button>
                <div class="collapse" id="URLform">
                    <div class="well" style="padding:2px;">
                        <span class="input-group-addon" id="basic-addon3">圖片網址</span>
                        <input type="text" class="form-control" placeholder="例如：www.seoproduction.com/image.jpg" id="URLinput" value="http://www.google.com/intl/en_ALL/images/logo.gif">
                        <button type="button" class="btn btn-primary form-control" onclick="getURLImage();" data-dismiss="modal"><span class="glyphicon glyphicon-save"></span>&nbsp;確認</button>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- SaveModal -->
        <div class="modal fade" id="saveModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header mhead">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">儲存圖片至本裝置？</h4>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;取消</button>
                <button type="button" class="btn btn-success" onclick="saveImage(false);" data-dismiss="modal"><span class="glyphicon glyphicon-floppy-saved"></span>&nbsp;儲存</button>
              </div>
            </div>
          </div>
        </div>

        <!-- ShareModal -->
        <div class="modal fade" id="shareModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header mhead">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">儲存圖片及分享圖片？</h4>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;取消</button>
                <button type="button" class="btn btn-success" onclick="saveImage(true);" data-dismiss="modal"><span class="glyphicon glyphicon-share"></span>&nbsp;儲存及分享</button>
              </div>
            </div>
          </div>
        </div>

        <!-- ClearModal -->
        <div class="modal fade" id="clearModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header mhead">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">清除所有文字?</h4>
              </div>
              <div class="modal-body">
                <div class="btn-group btn-group-justified" role="group" aria-label="...">
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-warning" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span>&nbsp;取消</button>
                    </div>
                    <div class="btn-group" role="group">
                        <button type="button" class="btn btn-success" onclick="manual_clear();" data-dismiss="modal"><span class="glyphicon glyphicon-trash"></span>&nbsp;清除</button>
                    </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <nav class="navbar navbar-default navbar-fixed-bottom edit_class" style="display:none;">
            <div class="container" style="padding:0px;">
                <div class="btn-group btn-group-justified" role="group" aria-label="...">
                    <div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-success openbtn" type="button" data-toggle="modal" data-target="#photoModal" ><span id="icon" class="glyphicon glyphicon-picture"></span><br><span class="icon_caption">開啟</span></button>
                    </div>
                    <div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-primary savebtn" disabled type="button" data-toggle="modal" data-target="#saveModal"><span id="icon" class="glyphicon glyphicon-floppy-disk"></span><br><span class="icon_caption">儲存</span></button>
                    </div>
                    <div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-primary savebtn" disabled type="button" data-toggle="modal" data-target="#shareModal"><span id="icon" class="glyphicon glyphicon-share"></span><br><span class="icon_caption">分享</span></button>
                    </div>
                    <!--div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-default" type="button" onclick="lock_screen();" id="scroll_btn" ></button>
                    </div-->
                    <div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-primary editbtn" disabled type="button" data-toggle="modal" data-target="#myModal" onclick="preview_text();"><span id="icon" class="glyphicon glyphicon-edit"></span><br><span class="icon_caption">文字</span></button>
                    </div>
                    <div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-primary editbtn" disabled type="button" data-toggle="modal" data-target="#delModal" onclick="getallwords();" ><span id="icon" class="glyphicon glyphicon-erase"></span><br><span class="icon_caption">清除</span></button>
                    </div>
                    <!--div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-primary editbtn" disabled type="button" data-toggle="modal" data-target="#clearModal" ><span id="icon" class="glyphicon glyphicon-trash"></span><br><span class="icon_caption">清除所有</span></button>
                    </div-->
                </div>
            </div>
        </nav>

        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>

    </body>
</html>
