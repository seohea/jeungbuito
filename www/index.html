<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="format-detection" content="telephone=no" />
        <meta name="msapplication-tap-highlight" content="no" />
        <!-- WARNING: for iOS 7, remove the width=device-width and height=device-height attributes. See https://issues.apache.org/jira/browse/CB-4323 -->
        <meta name="viewport" content="user-scalable=no, initial-scale=0.5, maximum-scale=0.5, width=device-width" />
        <link rel="stylesheet" type="text/css" href="css/index.css" />
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href='https://fonts.googleapis.com/css?family=Righteous' rel='stylesheet' type='text/css'>

        <style type="text/css">
            * {
                border-radius: 0 !important;
                -moz-border-radius: 0 !important;
                -webkit-tap-highlight-color: rgba(255, 255, 255, 0); 
                -webkit-tap-highlight-color: transparent;
            }
            body{
                -webkit-touch-callout: none;                /* prevent callout to copy image, etc when tap to hold */
                -webkit-text-size-adjust: none;             /* prevent webkit from resizing text to fit */
                -webkit-user-select: none;                  /* prevent copy paste, to allow, change 'none' to 'text' */
                
                /*
                background-color: #333333;
                background-image: url("img/bg2.jpg");
                background-repeat: repeat;
                background-attachment: fixed;
                */

                /*background-position: center center; */
                
                
                
                background-color:black;
                
                /*
                background-image:linear-gradient(top, #A7A7A7 0%, #E4E4E4 51%);
                background-image:-webkit-linear-gradient(top, #A7A7A7 0%, #E4E4E4 51%);
                background-image:-ms-linear-gradient(top, #A7A7A7 0%, #E4E4E4 51%);
                background-image:-webkit-gradient(
                    linear,
                    left top,
                    left bottom,
                    color-stop(0, #A7A7A7),
                    color-stop(0.25, #E4E4E4)
                );
                background-attachment:fixed;
                */

                padding-bottom: 70px;
                
            }

            #navbar_btn{
                margin: 30 auto;
                height: 100%;
            }

            #main_body{
                overflow: auto;
                position: relative;
                z-index: 50;
            }

            #dimScreen {
                width: 100%;
                height: 100%;
                background:rgba(0,0,0,1); 
                position: fixed;
                top: 0;
                left: 0;
                z-index: 100;
            }


            #photo{
                height: 60vh; 
                width: 100vw; 
                display: block;
            }

            #canvas{
                /*border: 2px solid black;*/
                background-color: #262626;
            }

            #inserfontsize{
                display: none;
                text-transform: none !important;
                font-family: "Arial" !important;
            }

            #testing, #testing2, #testing3, #testing4{
                display:none;
            }

            #icon{
                font-size: 22px;
                line-height: 80%;
            }

            .icon_caption{
                font-size: 14px;
            }

            @font-face {
              font-family: 'cwTeXKai';
              font-style: normal;
              font-weight: 500;
              src: url(fonts/cwTeXKai-zhonly.eot);
              src: url(fonts/cwTeXKai-zhonly.eot?#iefix) format('embedded-opentype'),
                   url(fonts/cwTeXKai-zhonly.woff2) format('woff2'),
                   url(fonts/cwTeXKai-zhonly.woff) format('woff'),
                   url(fonts/cwTeXKai-zhonly.ttf) format('truetype');
            }


            #reminder{  
                color:white;
                z-index: 999; 
                position:fixed; 
                width:30%; 
                top: 40%; 
                left: 35%; 
                padding:10px; 
                margin:5px; 
                text-align:center;
            }​
            

        </style>

        <title>Juengbuito</title>

        <script src="js/jquery.js"></script>
        <script src="js/bootstrap.min.js"></script>
        <script type="text/javascript" src="js/GALocalStorage.js"></script>

        <script type="text/javascript">

            var pictureSource;   // picture source
            var destinationType; // sets the format of returned value
            var img_url;

            //var xpos = 50;
            //var ypos = 50;

            //var WIDTH = 400;
            //var HEIGHT = 300;

            $(document).ready(function() {
                var canvas = document.getElementById("canvas");
                canvas.width = $("#photo").width()*2;
                canvas.height = $("#photo").height()*2;

                canvas.style.width=$("#photo").width()+"px";//actual width of canvas
                canvas.style.height=$("#photo").height()+"px";//actual height of canvas

                var is_lock = false;

                lock_screen = function lock_scroll(){

                    if(is_lock){
                        canvas.removeEventListener('touchmove', function(e) {
                            e.preventDefault();
                        }, false);
                        $("#scroll_btn").html('<span id="icon" class="glyphicon glyphicon-pushpin"></span><!--br><span class="icon_caption">鎖定螢幕</span-->');
                        is_lock = false;
                    }else{
                        canvas.addEventListener('touchmove', function(e) {
                            e.preventDefault();
                        }, false);
                        $("#scroll_btn").html('<span id="icon" class="glyphicon glyphicon-move"></span><!--br><span class="icon_caption">解除鎖定</span-->');
                        is_lock = true;
                    }
                }

                lock_screen();
                re_initi();

                //WIDTH = $("#photo").width();
                //HEIGHT = $("#photo").height();


                ///$.support.transition = false;
  
                //canvas.onmousedown = myDown;
                //canvas.onmouseup = myUp;

                // get canvas related references
                //var canvas=document.getElementById("canvas");

                var ctx, BB, offsetX, offsetY, WIDTH, HEIGHT;

                function re_initi(){
                    ctx=canvas.getContext("2d");
                    ctx.scale(2,2);
                    BB=canvas.getBoundingClientRect();
                    offsetX=BB.left;
                    offsetY=BB.top;
                    WIDTH = canvas.width;
                    HEIGHT = canvas.height;
                }

                var font_size, font_type;

                changefontsize = function change_size(num){
                    var size = [14,22,36,48,60];
                    font_size = size[num];
                    $('#inserfontsize').attr('style', 'font-size: '+font_size+'px !important');
                }
                
                changefontsize(2);

                changefont = function change_font(num){
                    font_type = num;
                }

                changefont(0);

                preview_text = function preview_text(){
                    $("#word_sample").text($("#words").val());
                    if (font_type == 0)
                        $('#word_sample').attr('style', 'font-size: '+font_size+'px !important;');
                    else
                        $('#word_sample').attr('style', 'font-size: '+font_size+'px !important; font-family: "cwTeXKai", serif;');
                    $("#word_sample").css('color', $("#mycolor").val());
                }

                // drag related variables
                var dragok = false;
                var startX;
                var startY;

                // an array of objects that define different rectangles
                var rects=[];


                //rects.push({x:200-15,y:50-15,width:30,height:30,fill:"black",isDragging:false,text:"First text is very long",len:(("First text is very long".length * 24)/2)});
                //rects.push({x:200-25,y:50-25,width:30,height:30,fill:"grey",isDragging:false,text:"Second text",len:(("Second text".length * 24)/2)});
                //rects.push({x:200-35,y:50-35,width:30,height:30,fill:"blue",isDragging:false,text:"third text",len:(("third text".length * 24)/2)});

                resize = function photo_resize(imgsrc){

                    var photo = new Image();
                    photo.src = imgsrc;
                    photo.onload = function() {
                        var w = window.innerWidth;
                        var img_width = this.width;
                        var img_height = this.height;

                        var new_width = w;
                        var new_height = Math.floor((w*img_height)/img_width);

                        canvas.width = new_width*2;
                        canvas.height = new_height*2;

                        canvas.style.width=new_width+"px";
                        canvas.style.height=new_height+"px";

                        $("#photo").height(new_height);
                    
                        re_initi();
                        bgpic(imgsrc);
                    }
                    
                }

                // listen for mouse events
                //canvas.onmousedown = myDown;
                //canvas.onmouseup = myUp;
                //canvas.onmousemove = myMove;

                $('#canvas').on('touchstart', function(e){
                    myDown(e);
                    $("#testing").text("Down");
                });
                $('#canvas').on('touchend', function(e){
                    myUp(e);
                    $("#testing").text("up");
                });
                $('#canvas').on('touchmove', function(e){
                    myMove(e);
                    $("#testing").text("move");
                });

                add = function addwords(){
                    $("#inserfontsize").text($("#words").val());
                    var arr = {};
                    arr.x = 100+rects.length*30;
                    arr.y = 50+rects.length*30;
                    arr.fill = "black";
                    arr.isDragging = false;
                    arr.text = $("#words").val();
                    arr.len = $('#inserfontsize').width();
                    arr.charheight = font_size;
                    arr.mycolor = $("#mycolor").val();
                    arr.myfont = font_type;
                    rects.push(arr);

                    draw();
                }

                // call to draw the scene
                //addwords();
                

                // draw a single rect
                function rect(x,y,customtext) {
                    /*
                    ctx.font = "24px Arial";
                    text = $("#words").val();
                    textLength = (text.length * 24)/2;
                    ctx.fillText(text, x, y);
                    */
                    if(customtext.myfont == 0)
                        ctx.font = customtext.charheight+"px Droid Sans";
                    else if (customtext.myfont == 1)
                        ctx.font = customtext.charheight+"px cwTeXKai";

                    //textLength = (customtext.length * customtext.charheight)/2;
                    /*
                    ctx.beginPath();
                    ctx.rect(x,y,w,h);
                    ctx.closePath();
                    ctx.fill();
                    
                    */
                    
                    ctx.strokeStyle = 'white';
                    ctx.lineWidth = 8;
                    ctx.strokeText(customtext.text, x, y);
                    
                    ctx.fillStyle = customtext.mycolor;

                    ctx.fillText(customtext.text, x, y);

                }

                // clear the canvas
                function clear() {
                    ctx.clearRect(0, 0, WIDTH, HEIGHT);
                }

                manual_clear = function man_clear() {
                    ctx.clearRect(0, 0, WIDTH, HEIGHT);
                    rects = [];
                }

                manual_clear_one = function man_clear_one(){
                    rects.pop();
                    draw();
                }

                // redraw the scene
                function draw() {
                    clear();
                    //ctx.fillStyle = "#FAF7F8";
                    //rect(0,0,WIDTH,HEIGHT);
                    // redraw each rect in the rects[] array
                    for(var i=0;i<rects.length;i++){
                        var r=rects[i];
                        //ctx.fillStyle=r.fill;
                        //rect(x - textLength/2, y + 15, textLength, 30);
                        //rect(r.x,r.y,r.width,r.height);
                        //ctx.fillStyle = r.mycolor;
                        rect(r.x-r.len/2,r.y+r.charheight,r);
                    }
                }

                saveImage = function final_draw(){
                    try{
                        clear();

                        var imageObj = new Image();
                        imageObj.src = img_url;
                        ctx.drawImage(imageObj, 0, 0, $("#photo").width(), $("#photo").height() );

                        //$("#canvas").css("background", "none");

                        for(var i=0;i<rects.length;i++){
                            var r=rects[i];
                            //ctx.fillStyle = r.mycolor;
                            rect(r.x-r.len/2,r.y+r.charheight,r);
                        }

                        saveAll();
                    }catch(err){}
                }

                bgpic = function background_pic(src){
                    //alert(src);
                    /*
                    var imageObj = new Image();
                    imageObj.src = src;
                    ctx.drawImage(imageObj, 0, 0, canvas.style.width, canvas.style.height);
                    */
                    $("#canvas").css("background-image", "url("+src+")");
                    $("#canvas").css("background-size", "cover");
                    $("#canvas").css("background-position", "0 0");
                }


                // handle mousedown events
                function myDown(e){
                    // tell the browser we're handling this mouse event
                    e.preventDefault();
                    e.stopPropagation();

                    // get the current mouse position
                    //var mx=parseInt(e.clientX-offsetX);
                    //var my=parseInt(e.clientY-offsetY);
                    var mx=parseInt(e.originalEvent.touches[0].pageX-offsetX);
                    var my=parseInt(e.originalEvent.touches[0].pageY-offsetY);
                    $("#testing2").text(mx + ", "+my);

                    // test each rect to see if mouse is inside
                    dragok=false;
                    for(var i=0;i<rects.length;i++){
                        var r=rects[i];
                        //if (e.pageX < x + textLength + canvas.offsetLeft && e.pageX > x - textLength + canvas.offsetLeft && e.pageY < y + 15 + canvas.offsetTop && e.pageY > y -15 + canvas.offsetTop){
                        //if(mx>r.x && mx<r.x+r.width && my>r.y && my<r.y+r.height){
                        $("#testing3").text(mx + ">"+(r.x-r.len/2) +" | "+mx+"<"+(r.x+r.len/2));
                        $("#testing4").text(my + ">"+(r.y) +" | "+my+"<"+(r.y+r.charheight));

                        if(mx>r.x-r.len/2 && mx<r.x+r.len/2 && my>r.y && my<r.y+r.charheight){  
                            // if yes, set that rects isDragging=true
                            dragok=true;
                            r.isDragging=true;
                        }
                    }
                    // save the current mouse position
                    startX=mx;
                    startY=my;
                }


                // handle mouseup events
                function myUp(e){
                    // tell the browser we're handling this mouse event
                    e.preventDefault();
                    e.stopPropagation();

                    // clear all the dragging flags
                    dragok = false;
                    for(var i=0;i<rects.length;i++){
                        rects[i].isDragging=false;
                    }
                }


                // handle mouse moves
                function myMove(e){
                    // if we're dragging anything...
                    if (dragok){


                      // tell the browser we're handling this mouse event
                      e.preventDefault();
                      e.stopPropagation();


                      // get the current mouse position
                      //var mx=parseInt(e.clientX-offsetX);
                      //var my=parseInt(e.clientY-offsetY);
                      var mx=parseInt(e.originalEvent.touches[0].pageX-offsetX);
                      var my=parseInt(e.originalEvent.touches[0].pageY-offsetY);

                      // calculate the distance the mouse has moved
                      // since the last mousemove
                      var dx=mx-startX;
                      var dy=my-startY;

                      // move each rect that isDragging 
                      // by the distance the mouse has moved
                      // since the last mousemove
                      for(var i=0;i<rects.length;i++){
                          var r=rects[i];
                          if(r.isDragging){
                              r.x+=dx;
                              r.y+=dy;
                          }
                      }

                      // redraw the scene with the new rect positions
                      draw();

                      // reset the starting mouse position for the next mousemove
                      startX=mx;
                      startY=my;

                    }
                }

            });

            function getImage(source) {
                navigator.camera.getPicture(onPhotoURISuccess, onFail, { quality: 50,
                    destinationType: destinationType.FILE_URI,
                    sourceType: source });
            }

            function onPhotoURISuccess(imageURI) {
                img_url = imageURI;
                resize(img_url);
                $("#reminder").remove();
            }

            function onFail(message) {
                //alert("Get image failed: " + message);
                alert("沒有選取圖片");
            }

            function saveAll(){
                window.canvas2ImagePlugin.saveImageDataToLibrary(
                    function(msg){
                        alert(msg);
                    },
                    function(err){
                        alert(err);
                    },
                    document.getElementById("canvas"),
                    '.jpg'
                );
            }



            /*
            var canvas;
            var ctx;
            var x = 75;
            var y = 50;
            var dragok = false;
            var text = "Hey there im movin!";
            var textLength = (text.length * 24)/2;

            var rects = [];


            function rect(x,y,w,h) {
                ctx.font = "24px Arial";
                text = $("#words").val();
                textLength = (text.length * 24)/2;
                ctx.fillText(text, x, y);
            }

            function clear() {
                ctx.clearRect(0, 0, WIDTH, HEIGHT);
            }

            function init() {
                canvas = document.getElementById("canvas");
                ctx = canvas.getContext("2d");
                return setInterval(draw, 10);
            }

            function draw() {
                clear();
                ctx.fillStyle = "#FAF7F8";
                ctx.fillStyle = "#444444";
                rect(x - textLength/2, y + 15, textLength, 30);
            }

            function myMove(e){
                if (dragok){
                    x = e.pageX - canvas.offsetLeft;
                    y = e.pageY - canvas.offsetTop;
                }
            }

            function myDown(e){
                if (e.pageX < x + textLength + canvas.offsetLeft && e.pageX > x - textLength + canvas.offsetLeft && e.pageY < y + 15 + canvas.offsetTop &&
                    e.pageY > y -15 + canvas.offsetTop){
                    x = e.pageX - canvas.offsetLeft;
                    y = e.pageY - canvas.offsetTop;
                    dragok = true;
                    canvas.onmousemove = myMove;
                }
            }

            function myUp(){
                dragok = false;
                canvas.onmousemove = null;
            }
            */

            function onDeviceReady() {
                /*
                admob.createBannerView({
                  publisherId:"ca-app-pub-9969581706012169/5605224331"
                });
                */
                /*
                alert("Start!");
                alert(cordova.file);
                alert(navigator.camera);
                alert(window.canvas2ImagePlugin);
                */

                pictureSource=navigator.camera.PictureSourceType;
                destinationType=navigator.camera.DestinationType;
                //alert(pictureSource.PHOTOLIBRARY+"\n"+pictureSource.SAVEDPHOTOALBUM + "\n"+destinationType);
                

                document.addEventListener("backbutton", function(e){
                   e.preventDefault();
                   navigator.app.exitApp();  
                }, false);
            }

            function onResume() {
                //alert(navigator.camera);
            }

            document.addEventListener("deviceready", onDeviceReady, false);
            document.addEventListener("resume", onResume, false);
            

        </script>

    </head>

    <body>
        <!--div class="app">
            <h1>PhoneGap</h1>
            <div id="deviceready" class="blink">
                <p class="event listening">Connecting to Device</p>
                <p class="event received">Device is Ready</p>
            </div>
        </div-->
        <div id="main_body">
            <!-- Navigation -->
            <nav class="navbar navbar-default navbar-fixed-top" id="nav">
                <div class="container">
                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" onclick="$('#about-panel').hide();" id="navbar_btn">
                            <span class="glyphicon glyphicon-menu-hamburger" style="color:white;"></span>
                        </button>
                        <a class="navbar-brand" style="font-family: 'Righteous', cursive;  "><!--span class="glyphicon glyphicon-magnet"></span-->
                            <span class="glyphicon glyphicon-chevron-left"></span>&nbsp;&nbsp;<B>編輯圖片</B>
                        </a>
                    </div>

                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                        <ul class="nav navbar-nav navbar-right">
                            <li class="hidden">
                                <a href="#page-top"></a>
                            </li>
                            <li class="page-scroll">
                                <a href="#" onclick="alert('Version: Testing (V0.0.6)');"><span class="glyphicon glyphicon-globe" style="color:#99ccff"></span>&nbsp;&nbsp;About</a>
                                <a href="#" onclick="resize('http://www.google.com/intl/en_ALL/images/logo.gif');"><span class="glyphicon glyphicon-globe" style="color:#99ccff"></span>&nbsp;&nbsp;testing btn</a>
                            </li>
                            
                        </ul>
                    </div>
                </div>
            </nav>

            <header>
                <div class="container" style="padding:30px 0px;">
                    <!--div class="row">
                        <div class="col-lg-12">
                            <div class="intro-text">
                                <span class="skills">一個俾你了解呢個世界既地方</span>
                            </div>
                        </div>
                    </div-->
                </div>
            </header>


            <div class="container">
                <div class="row">

                    <div class="panel-body">
                    </div>

                    <div id="reminder">
                        <p style="font-size:30px;"><span class="glyphicon glyphicon-picture"></span></p>
                        <p style="font-size:16px;">請選取圖片</p>
                    </div>

                    <div id="photo">
                        <canvas id="canvas">Canvas not supported</canvas>
                    </div>

                    <span id="inserfontsize"></span>
                    <p id="testing">testing testing </p>
                    <p id="testing2">testing testing </p>
                    <p id="testing3">testing testing </p>
                    <p id="testing4">testing testing </p>

                </div>
            </div>
        </div>

        <!-- Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span class="glyphicon glyphicon-remove"></span></button>
                <h4 class="modal-title" id="myModalLabel">文字設定</h4>
              </div>
              <div class="modal-body">
                <div class="btn-group" role="group" aria-label="...">
                  <button type="button" class="btn btn-primary" onclick="preview_text();"><span class="glyphicon glyphicon-bold"/></button>
                  <button type="button" class="btn btn-primary" onclick="preview_text();"><span class="glyphicon glyphicon-italic"/></button>
                  <div class="btn-group" role="group">
                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <span class="glyphicon glyphicon-text-height"></span>
                      <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a onclick="changefontsize(0); preview_text();">特小</a></li>
                        <li><a onclick="changefontsize(1); preview_text();">小</a></li>
                        <li><a onclick="changefontsize(2); preview_text();">中</a></li>
                        <li><a onclick="changefontsize(3); preview_text();">大</a></li>
                        <li><a onclick="changefontsize(4); preview_text();">特大</a></li>
                    </ul>
                  </div>
                  <div class="btn-group" role="group">
                    <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      <span class="glyphicon glyphicon-font"></span>
                      <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a onclick="changefont(0); preview_text();" style="font-size:20px;">系統預設字型</a></li>
                        <li><a onclick="changefont(1); preview_text();" style="font-size:20px;">標楷體</a></li>
                    </ul>
                  </div>
                  <span class="input-group-addon"><input type="color" id="mycolor" value="#ff0000" onchange="preview_text()"></span>

                  <br>
                  <input type="text" class="form-control" id="words" value="認同請分享" placeholder="在此輸入文字" oninput="preview_text();"/>
                </div>

              </div>
              <div class="modal-footer">
                <span id="word_sample"></span>
                <br><hr>
                <div class="btn-group" role="group">
                    <button class="btn btn-success" data-dismiss="modal" onclick="add();"><span class="glyphicon glyphicon-plus"></span>&nbsp;確認及添加</button>
                </div>
              </div>
            </div>
          </div>
        </div>

        <nav class="navbar navbar-default navbar-fixed-bottom" style="height:20px;">
            <div class="container" style="padding:0px;">
                <div class="btn-group btn-group-justified" role="group" aria-label="...">
                    <div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-info" type="button" onclick="getImage(pictureSource.SAVEDPHOTOALBUM);" ><span id="icon" class="glyphicon glyphicon-picture"></span><!--br><span class="icon_caption">開啟圖片</span--></button>
                    </div>
                    <div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-warning" type="button" onclick="saveImage();" ><span id="icon" class="glyphicon glyphicon-floppy-disk"></span><!--br><span class="icon_caption">儲存圖片</span--></button>
                    </div>
                    <div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-success" type="button" onclick="lock_screen();" id="scroll_btn" ></button>
                    </div>
                    <div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-default" type="button" data-toggle="modal" data-target="#myModal" onclick="preview_text();"><span id="icon" class="glyphicon glyphicon-edit"></span></button>
                    </div>
                    <div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-warning" type="button" onclick="manual_clear_one();" ><span id="icon" class="glyphicon glyphicon-erase"></span><!--br><span class="icon_caption">清除文字</span--></button>
                    </div>
                    <div class="btn-group btn-group" role="group" id="ap-remove-btn">
                        <button class="btn btn-danger" type="button" onclick="manual_clear();" ><span id="icon" class="glyphicon glyphicon-trash"></span><!--br><span class="icon_caption">清除文字</span--></button>
                    </div>
                </div>
            </div>
        </nav>

        <script type="text/javascript" src="cordova.js"></script>
        <script type="text/javascript" src="js/index.js"></script>
        <script type="text/javascript">
            app.initialize();
        </script>

    </body>
</html>
